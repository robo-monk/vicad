---
# VICAD clang-tidy configuration.
# Run via: ./nob lint-cpp
# Or manually: clang-tidy src/<file>.cpp -- -std=c++20 -Isrc -Imanifold/include -Ibuild/generated

Checks: >
  bugprone-use-after-move,
  bugprone-dangling-handle,
  bugprone-incorrect-roundings,
  bugprone-integer-division,
  bugprone-misplaced-widening-cast,
  bugprone-signed-char-misuse,
  bugprone-suspicious-memset-usage,
  bugprone-undefined-memory-manipulation,
  cppcoreguidelines-pro-type-cstyle-cast,
  readability-identifier-naming,
  readability-redundant-member-init,
  readability-const-return-type,
  misc-misplaced-const,
  -bugprone-easily-swappable-parameters

# Only report warnings from our src/ files, not vendored headers.
HeaderFilterRegex: '.*/src/[^/]+\.(h|cpp)$'

CheckOptions:
  # Functions: snake_case
  - key: readability-identifier-naming.FunctionCase
    value: lower_case
  # Methods: snake_case
  - key: readability-identifier-naming.MethodCase
    value: lower_case
  # Local variables: snake_case
  - key: readability-identifier-naming.LocalVariableCase
    value: lower_case
  # Parameters: snake_case
  - key: readability-identifier-naming.ParameterCase
    value: lower_case
  # Member variables: snake_case with trailing underscore
  - key: readability-identifier-naming.MemberCase
    value: lower_case
  - key: readability-identifier-naming.MemberSuffix
    value: _
  # Types (class/struct/enum): PascalCase
  - key: readability-identifier-naming.ClassCase
    value: CamelCase
  - key: readability-identifier-naming.StructCase
    value: CamelCase
  - key: readability-identifier-naming.EnumCase
    value: CamelCase
  - key: readability-identifier-naming.EnumConstantCase
    value: CamelCase
  # Constants: kPascalCase
  - key: readability-identifier-naming.ConstexprVariableCase
    value: CamelCase
  - key: readability-identifier-naming.ConstexprVariablePrefix
    value: k
  # Namespaces: lower_case
  - key: readability-identifier-naming.NamespaceCase
    value: lower_case
